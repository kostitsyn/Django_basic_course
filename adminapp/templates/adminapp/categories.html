{% extends 'adminapp/base.html' %}
{% load static %}

{% block content %}
  <div class="categories_list">
    <button class="new_category">
      <a href={% url 'admin:category_create' %}>
        новая категория
      </a>
    </button>


    <div class="paginator">
      {% if objects.has_previous %}
        <a href="{% url 'admin:categories' objects.previous_page_number %}"><</a>
      {% endif %}
      <span class="current"> страница {{ objects.number }} из {{ objects.paginator.num_pages }}</span>
      {% if objects.has_next %}
        <a href="{% url 'admin:categories' objects.next_page_number %}">></a>
      {% endif %}
    </div>


    {% for object in objects %}
      <div class="category_record {% if not object.is_active %}not_active{% endif %}">
        <div class="category_name">
          {{ object.name|title }}
        </div>
        <div class="category_actions">
          <button>
            <a href={% url 'admin:products' object.pk 1 %}>
              товары категории
            </a>
          </button>
          <button>
            <a href={% url 'admin:category_update' object.pk %}>
              редактировать
            </a>
          </button>
          <button>
            <a href={% url 'admin:category_delete' object.pk %}>
              {% if object.is_active %} удалить {% else %} восстановить {% endif %}
            </a>
          </button>
        </div>
        <div class="category_desc">
          {{ object.description|title }}
        </div>
      </div>
    {% endfor%}
  </div>
{% endblock %}
